{% extends 'templates/base.html' %}

{% from 'templates/components/todo-task.html' import todo_task %}

{% set title='todo' %}

{% block main %}
    <h1>Задачки</h1>

    <h2>Форма таски</h2>
    <form hx-post="/todo" hx-target="ul" hx-swap="afterbegin" hx-on::after-request="this.reset()">
        <div style="display: flex; flex-direction: column">
            <div>
                <label for="title" style="font-weight: 600; margin-bottom: 4px; ">
                    Название
                </label>
            </div>

            <input id="title" name="title" style="padding: 10px; border-radius: 10px; margin-bottom: 10px; ">
        </div>

        <div style="display: flex; justify-content: end">
            <button class="btn" type="submit">
                Создать
            </button>
        </div>
    </form>
    <hr>

    <ul style="list-style: none; padding-left: 0">
        {% for task in tasks %}
            {{ todo_task(task) }}
        {% endfor %}
    </ul>
{% endblock %}

{% block script %}
    <script src="{{ url_for('static', filename='js/htmx.min.js') }}"
            integrity="sha384-D1Kt99CQMDuVetoL1lrYwg5t+9QdHe7NLX/SoJYkXDFfX37iInKRy5xLSi8nO7UC"
            crossorigin="anonymous"></script>

{% endblock %}