{% extends 'templates/base.html' %}
{% set title = '–°—Ç–∞—Ç–∞' %}

{% block static %}
    <style>

        .beers {
            display: grid;
            grid-template-columns: repeat(9, minmax(0, 1fr));
            gap: 5px;
        }

        .movies {
            display: grid;
            grid-template-columns: repeat(5, minmax(0, 1fr));
            gap: 5px;
        }


        .games {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 15px;
        }


        @media (max-width: 1024px) {

            .movies {
                grid-template-columns: repeat(4, minmax(0, 1fr));
            }

            .games {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }

            .beers {
                grid-template-columns: repeat(5, minmax(0, 1fr));
            }
        }

        a.game {
            display: flex;
            text-decoration: none;
            position: relative;
        }


        .golden {
            border-radius: 8px;
            animation: shine 1.5s linear infinite;
        }

        @keyframes shine {
            0% {
                box-shadow: 0 0 4px rgba(255, 215, 0, 0.8), /* Smaller inner glow */ 0 0 8px rgba(255, 193, 2, 0.7),
                0 0 12px rgba(255, 172, 4, 0.6),
                0 0 16px rgba(255, 151, 6, 0.5);
            }
            50% {
                box-shadow: 0 0 8px rgba(255, 215, 0, 0.8),
                0 0 16px rgba(255, 193, 2, 0.7),
                0 0 24px rgba(255, 172, 4, 0.6),
                0 0 32px rgba(255, 151, 6, 0.5);
            }
            100% {
                box-shadow: 0 0 4px rgba(255, 215, 0, 0.8),
                0 0 8px rgba(255, 193, 2, 0.7),
                0 0 12px rgba(255, 172, 4, 0.6),
                0 0 16px rgba(255, 151, 6, 0.5);
            }
        }

        button.game {
            display: flex;
            padding: 0;
            background: none;
            border-color: transparent;
            text-align: left;
            cursor: pointer;
        }

        button.game:hover {
            border-color: black;
            border-radius: 8px;

        }

        .bordered {
            border-color: black !important;
            border-radius: 8px;
        }

    </style>
{% endblock %}

{% set title = '–°—Ç–∞—Ç–∞ 2024' %}
{% set desc = '–ß—Ç–æ –ø–∏–ª, —á—Ç–æ —Å–º–æ—Ç—Ä–µ–ª, —á—Ç–æ —á–∏—Ç–∞–ª, –≤–æ —á—Ç–æ –∏–≥—Ä–∞–ª, —á—Ç–æ —Å–ª—É—à–∞–ª –≤ 2024 –≥.' %}

{% from "templates/components/icons.html" import bookmate %}

{% macro tags(tag_list, floating=True) %}
    <div style="{% if floating %}position: absolute; left: 5px; bottom: -10px;  display: flex; gap: 5px{% endif %}">
        {% for tag in tag_list %}
            <small style="padding: 2px 4px; background: cornflowerblue; color: white; border-radius: 6px">
                {{ tag }}
            </small>
        {% endfor %}
    </div>
{% endmacro %}

{% block main %}


    <h2>–ö–Ω–∏–≥–∏</h2>
    <div class="grid grid-cols-4 md:grid-cols-8 gap-2">

        {% for book in books %}
            <button class=" hover:border-4 rounded-lg border-primary relative "
                    onclick="modal_{{ book.id }}.showModal()">
                <img class="h-full {% if book.drop %}opacity-25{% endif %} {% if book.wip %}opacity-75{% endif %} " src="{{ book.img }}">
                {% if book.done %}
                    <span class="absolute bottom-1 p-1 text-sm  left-1 bg-green-100 rounded-lg">‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ</span>
                {% endif %}
                {% if book.drop %}
                    <span class="absolute bottom-1 p-1 text-sm  left-1 bg-red-100 rounded-lg">‚ùå –î—Ä–æ–ø</span>
                {% endif %}
                {% if book.wip %}
                    <span class="absolute bottom-1 p-1 text-sm  left-1 bg-amber-100 rounded-lg">üöß WIP</span>
                {% endif %}
            </button>

            <dialog id="modal_{{ book.id }}" class="modal">
                <div class="modal-box max-w-screen-lg relative">
                    <form method="dialog">
      <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">‚úï</button>
    </form>

                    <h3>{{ book.full_title }}</h3>
                    <a href="{{ book.url }}" target="_blank" class="btn btn-sm ">{{ bookmate() }} –ë—É–∫–º–µ–π—Ç</a>

                    {{ book.review_html | safe }}


                    <div class="modal-action ">
                        <form method="dialog">
                            <button class="btn">–ó–∞–∫—Ä—ã—Ç—å</button>
                        </form>
                    </div>

                </div>
            </dialog>
        {% endfor %}
    </div>

    <h2>–ö–∏–Ω–æ –∏ —Å–µ—Ä–∏–∞–ª—ã</h2>
    <div class="grid grid-cols-4 md:grid-cols-10 gap-1">
        {% for movie in movies %}
            <a target="_blank" href="{{ movie.kp_url }}" class="blue-border-hover-link">
            <img src="{{ url_for('static', filename=movie.poster) }}">
            </a>
        {% endfor %}
    </div>

    <h2>–ò–≥—Ä—ã</h2>
    <div class="grid grid-cols-2 md:grid-cols-5 gap-2">
        <a class="game golden" href="https://store.steampowered.com/app/1328350/Turbo_Overkill/">
            <img class="game-img" src="https://cdn.akamai.steamstatic.com/steam/apps/1328350/header.jpg?t=1701886460">
            {{ tags(['–¢–æ–ø–æ–≤—ã–π –º—è—Å–Ω–æ–π FPS']) }}


        </a>
        <a class="game" href="https://store.steampowered.com/app/1970580/Backpack_Hero/">
            <img class="game-img" src="https://cdn.akamai.steamstatic.com/steam/apps/1970580/header.jpg?t=1704666031">
            {{ tags(['Inventory Management –†–æ–≥–∞–ª–∏–∫']) }}


        </a>
        <a class="game" href="https://store.steampowered.com/app/214730/Space_Rangers_HD_A_War_Apart/">
            <img class="game-img"
                 src="https://cdn.akamai.steamstatic.com/steam/apps/214730/header_russian.jpg?t=1681218954">
            {{ tags(['–•–∞—Ä–¥–∫–æ—Ä –°—Ç—Ä–∞—Ç–µ–≥–∏—è-–ö–≤–µ—Å—Ç']) }}

        </a>
        <a href="https://store.steampowered.com/app/1942280/Brotato/"
           class="game">
            <img class="game-img"
                 src="https://cdn.cloudflare.steamstatic.com/steam/apps/1942280/header.jpg?t=1701867264">

            {{ tags(['Reverse Bullet Hell']) }}

        </a>
    </div>

    <h2>
        –ú—É–∑—ã–∫–∞
    </h2>
    <div class="grid grid-cols-4 md:grid-cols-6 gap-3">
        <a class="game" href="https://rateyourmusic.com/release/album/–æ—Ç–≤–∞–∞–ª/—Ö–æ—Ä–æ–≤–æ–¥/">
            <img src="https://e.snmc.io/i/600/w/c91a6b16de7a87b932150c073110f2c8/11579194/%D0%BE%D1%82%D0%B2%D0%B0%D0%B0%D0%BB-otvaal-%D1%85%D0%BE%D1%80%D0%BE%D0%B2%D0%BE%D0%B4-Cover-Art.jpg">
            {{ tags(['Glitch Pop']) }}

        </a>
        <a class="game" href="https://rateyourmusic.com/release/mixtape/babii/screamer/">
            <img src="https://e.snmc.io/i/600/w/3ba844c553a7fb82aa5872c17b368824/10099763/babii-screamer-Cover-Art.jpg">
            {{ tags(['Bassline']) }}
        </a>
        <a class="game" href="https://rateyourmusic.com/release/album/neggy-gemmy/cbd-reiki-moonbeam/">
            <img src="https://e.snmc.io/i/600/w/5531a443e3982e6c5ddae707375dac02/10672138/neggy-gemmy-cbd-reiki-moonbeam-Cover-Art.jpg">
            {{ tags(['House']) }}
        </a>
        <a class="game" href="https://rateyourmusic.com/release/album/escuela-grind/memory-theater/">
            <img src="https://e.snmc.io/i/600/w/67501102d3f69a32bdd891378b00c6a1/10080031/escuela-grind-memory-theater-Cover-Art.jpg">
            {{ tags(['Grindcore']) }}
        </a>
        <a class="game" href="https://rateyourmusic.com/release/album/dizzee-rascal/dont-take-it-personal/">
            <img src="https://e.snmc.io/i/600/w/ff3588367696499eec2657588a4153c5/11487042/dizzee-rascal-dont-take-it-personal-Cover-Art.jpg">
            {{ tags(['Grime']) }}
        </a>

        <button class="relative hover:border-4 rounded-lg border-primary" onclick="my_modal_1.showModal()"><img
                src="https://avatars.yandex.net/get-music-content/5678677/e65ac697.a.20353282-1/m1000x1000">
            {{ tags(['Juke']) }}
        </button>
    </div>

    <dialog id="my_modal_1" class="modal">
        <div class="modal-box max-w-screen-lg">
            <h3>N95 ‚Äî –†–£–°–°–ö–ò–ô –î–ñ–£–ö 2 </h3>
            <a href="https://music.yandex.ru/album/20353282" target="_blank" class="btn btn-sm btn-warning">
                –Ø–Ω–¥–µ–∫—Å
                –ú—É–∑—ã–∫–∞
            </a>
            <p>
                –ù–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç –Ω–∞–∑–∞–¥ –ü–∞—Ç–∏–±–æ–π69 —Ö–∞–π–ø–∞–Ω—É–ª –≤ —é—Ç—É–±–∞—Ö —Å–æ–≤–µ—Ä—à–∏–≤ –≥–µ—Ç—Ç–æ-—Ç–µ—Ö —Ä–µ–≤–∞–π–≤–∞–ª, –≤ —á–∏—Å–ª–æ –∫–æ—Ç–æ—Ä—ã—Ö –≤—Ö–æ–¥–∏—Ç
                –î–∂—É–∫, —è —Ç–æ–≥–¥–∞ –æ–∑–Ω–∞–∫–æ–º–∏–ª—Å—è —Å–æ –≤—Å—è–∫–∏–º–∏ Dj Assault, Dj Deeon, Dj Rashad. –ê —Ç—É—Ç —á–µ–ª —Å–¥–µ–ª–∞–ª –≥–µ–Ω–∏–∞–ª—å–Ω–æ–µ: –≤–∑—è–ª
                –∏ —Å–æ–µ–¥–∏–Ω–∏–ª –î–∂—É–∫ —Å –ê–ö-47 –Ω–∞—Ö—É–π –∞—Ö–∞—Ö–∞.
            </p>
            <p>
                –¢–æ –µ—Å—Ç—å –≤—Å—è–∫–∏–µ –∑–∞–µ–¥–∞–Ω–∏–µ –≤–æ–∫–∞–ª–∞, —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫–æ–ª–æ—Ç—É—à–∫–∏ –∏ —Ç—Ä–µ—â–µ—Ç–∫–∏ –¥–µ—Ç—Ä–æ–π—Å–∫–∏—Ö –∫–ª—É–±–æ–≤ —Å–º–µ—à–∏–≤–∞—é—Ç —Å –Ø –ª—é–±–ª—é
                –¥—Ä–∞–≥—Å, —Å–æ—Ä—Ç–æ–≤ –æ—Å–æ–±–æ –ø—Ä—É—â–∏—Ö, –ü–æ–Ω–∞—Å—Ç–∞–≤–ª—è–ª–∏ –¥–æ–º–æ—Ñ–æ–Ω–æ–≤ ‚Äî –Ω–µ–≥–¥–µ –ø–ª–∞–Ω–∞ –ø–æ–∫—É—Ä–∏—Ç—å, –ü–æ—Å–∞–∂–∞–ª–∏ –≤—Å–µ—Ö –±–∞—Ä—ã–≥ ‚Äî –Ω–µ–≥–¥–µ
                –ø–ª–∞–Ω–∞ –∑–∞–º—É—Ç–∏—Ç—å - –ø–∏–∑–¥–∞ —Ä–∂–∞–∫–∞.
            </p>
            <p>
                –ù—É –∏ –∫–∞–∫ –ø–æ–Ω—è—Ç–Ω–æ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è - —ç—Ç–æ –≤—Ç–æ—Ä–∞—è —á–∞—Å—Ç—å, –∞ –Ω–∞ –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –î–∂—É–∫ –º–µ—à–∞—é—Ç —Å –ù–∞ —Å—É–∫–∞ –Ω–∞ —Å—É–∫–∞ –ø–æ–ª—É—á–∞–π
                —Å—É–∫–∞ –¥–æ–≤–µ–ª–∞ –º–µ–Ω—è, –±–ª—è –∞—Ö–∞—Ö–∞.
            </p>
            <p>
                –ù—É –∏ –≤—ã—Ö–æ–¥—è –∑–∞ —Ä–∞–º–∫–∏ –∏–ø–∏—Ö–∏, N95 –Ω–µ —Ç–æ–ª—å–∫–æ –¥–∂—É–∫–æ–º –±–∞–ª—É–µ—Ç—Å—è, –∞ —Ö–æ—Ä–æ—à–æ —Ä–∞–∑–¥–∞–µ—Ç –∏ –ø—Ä–æ—á–µ–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∏,
                –Ω–∞–ø—Ä–∏–º–µ—Ä –∞–º–µ–Ω –±—Ä–µ–π–∫–∏ –Ω–∞ —Ç—Ä–µ–∫–µ –ú—ã—à–∫–∞-—Å–æ—Å–∏—Å–∫–∞, —Ö–∞—É—Å —Ä–µ–º–∏–∫—Å –Ω–∞ –°–∫–≤–∏—Ä—Ç –®–∞–º–ø–∞–Ω—Å–∫–æ–≥–æ –≤ –ª–∏—Ü–æ. –ö—Ä—á —á–µ–ª, –ø–æ–¥–æ–±–Ω–æ
                –≤—Å—è–∫–∏–º –õ–æ–∫–µ–¥ –ö–ª–∞–±–∞–º, –∑–∞–º–µ—à–∏–≤–∞–µ—Ç –º–µ–º—ã —Å –∫–∞—á–µ–≤–æ–π —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–æ–π, –∞ —ç—Ç–∞ —Ñ–æ—Ä–º—É–ª–∞ –µ–±–µ—Ç

            </p>


            <div class="modal-action ">
                <form method="dialog">
                    <button class="btn">–ó–∞–∫—Ä—ã—Ç—å</button>
                </form>
            </div>

        </div>
    </dialog>


    <h2>–ü–∏–≤–æ</h2>

    <div class="beers">
        <!-- checkins -->
    </div>


    <script defer src="{{ url_for('static', filename='js/alpine.min.js') }}"></script>

    <script src="{{ url_for('static', filename='js/checkins.js') }}"></script>
    <script>

        checkins.forEach(
            ([img, link]) => {
                let linkNode = document.createElement('a');
                linkNode.href = link
                linkNode.innerHTML = `<img src="${img}" class="beer-img">`

                document.querySelector('.beers').appendChild(linkNode)
            }
        )
    </script>
{% endblock %}