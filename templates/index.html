{% extends "_layouts/base.html" %}

{% from '_components/page_list.html' import page_list, page_sections %}
{% from '_components/link_and_section.html' import link, section_card %}
{% from "_components/scripts.html" import htmx %}

{% block main %}
    <div class="flex flex-col gap-4 ">
        {% if events %}
            {% call section_card('–ü–ª–∞–Ω—ã') %}
                {% for event in events %}
                    {{ link(event.url, event.title_w_date, event.desc) }}
                {% endfor %}
            {% endcall %}
        {% endif %}
    </div>


    <div class="grid md:grid-cols-3 gap-2 md:gap-4">
        {% for feed_card in feed_items %}
            {% include '_components/feed_card.html' %}
        {% endfor %}

        <div class="flex justify-center mt-4 md:col-span-3" hx-target="this" hx-get="/feed/1.html" hx-swap="outerHTML">
            <button class="btn btn-primary btn-wide ">–ó–∞–≥—Ä—É–∑–∏—Ç—å –µ—â–µ</button>
        </div>
    </div>

    <div class="border uni-border mt-6"></div>

    <h2 class="text-center !py-0 border-neutral dark:border-gray-700 ">–†–∞–∑–¥–µ–ª—ã</h2>


    <div class="flex flex-col gap-4 ">
        {{ page_sections(pages_by_section) }}
    </div>

    {{ htmx() }}

    <script>


        let cites = [
            '–ó–∞–Ω–∏–º–∞—é—Å—å —Ö‚ÅÅ–π–Ω–µ–π –æ–Ω–ª–∞–π–Ω —Å 2020 –≥',
            '–ó–∞–Ω–∏–º–∞—é—Å—å —Ö‚ÅÅ–π–Ω–µ–π —Å 1996 –≥',
            '–ò—Ç –∏—Å –≤–æ—Ç –∏—Ç –∏—Å',
            '–ë–ª–æ–≥ –ø–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—é',
            '–ë–ª–æ–≥ –∏–∑-–ø–æ–¥ –ø–∞–ª–∫–∏',
            '–ü–æ–¥–ø–∏—à–∏—Å—å –Ω–∞ —Ç–µ–ª–µ–≥—É',
            '–î–µ–ª–∞—é —Å–≤–æ–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç',
            'autistic digital garden',
            '–ï–¥—É–ª–µ—á–∫–∞, –ø–∏–≤—á–∏–∫, –ø—Ä–æ–∂–∫–∞, –∫–∏–Ω–æ—à–∫–∞, –º—É–∑–æ–Ω—á–∏–∫, –±–∞–±–æ—Å–∏–∫, –∫–Ω–∏–∂–∫–∏, –∏–≥—Ä—É—à–∫–∏',
            '–ü—Ä–∏–∑—Ä–∞—á–Ω—ã–π –±–ª–æ–≥ üëª',
            '–ú–µ—Å—Ç–æ –≥–¥–µ —è –º–æ–≥—É –≥–æ–≤–æ—Ä–∏—Ç—å —á—Ç–æ —É–≥–æ–¥–Ω–æ, –∏ –Ω–∏–∫—Ç–æ –æ–± —ç—Ç–æ–º –Ω–µ —É–∑–Ω–∞–µ—Ç',
            '–ú–∞–Ω–∏ –æ–Ω –º–∞–π –º–∞–π–Ω–¥',
        ];


        const citeElement = document.querySelector('body > main > cite');

        citeElement.innerHTML = cites[Math.floor(Math.random() * cites.length)];

    </script>

{% endblock %}